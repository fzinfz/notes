<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Install &mdash; Ferro&#39;s DevOps Notes 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ferro&#39;s DevOps Notes 0.1 documentation" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="code python highlight-default"><div class="highlight"><pre><span></span>docker run -it --entrypoint=/bin/bash $IMAGE -i
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">it</span> <span class="o">-</span><span class="n">d</span> <span class="n">continuumio</span><span class="o">/</span><span class="n">anaconda3</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mb">0b0</span><span class="mi">74</span><span class="n">fd14d56742452a875c86f6f391bc75cd692b11f1c7ad5eace819db7a50e</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">ps</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">CONTAINER</span> <span class="n">ID</span>        <span class="n">IMAGE</span>                   <span class="n">COMMAND</span>                  <span class="n">CREATED</span>             <span class="n">STATUS</span>              <span class="n">PORTS</span>               <span class="n">NAMES</span>
<span class="mb">0b0</span><span class="mi">74</span><span class="n">fd14d56</span>        <span class="n">continuumio</span><span class="o">/</span><span class="n">anaconda3</span>   <span class="s2">&quot;/usr/bin/tini -- /bi&quot;</span>   <span class="mi">10</span> <span class="n">seconds</span> <span class="n">ago</span>      <span class="n">Up</span> <span class="mi">10</span> <span class="n">seconds</span>                           <span class="n">angry_colden</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">attach</span> <span class="mb">0b0</span><span class="mi">74</span><span class="n">fd14d56</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">exec</span> <span class="o">-</span><span class="n">it</span> <span class="mi">665</span><span class="n">b4a1e17b6</span> <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">bash</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">images</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">REPOSITORY</span>              <span class="n">TAG</span>                 <span class="n">IMAGE</span> <span class="n">ID</span>            <span class="n">CREATED</span>             <span class="n">SIZE</span>
<span class="n">fzinfz</span><span class="o">/</span><span class="n">jupyter</span>          <span class="mf">0.2</span><span class="o">-</span><span class="n">addBash</span>         <span class="n">a653e265abb0</span>        <span class="n">About</span> <span class="n">an</span> <span class="n">hour</span> <span class="n">ago</span>   <span class="mf">801.9</span> <span class="n">MB</span>
<span class="n">fzinfz</span><span class="o">/</span><span class="n">jupyter</span>          <span class="n">latest</span>              <span class="n">a653e265abb0</span>        <span class="n">About</span> <span class="n">an</span> <span class="n">hour</span> <span class="n">ago</span>   <span class="mf">801.9</span> <span class="n">MB</span>
<span class="n">ipython</span><span class="o">/</span><span class="n">notebook</span>        <span class="n">latest</span>              <span class="mi">350415</span><span class="n">f37e2c</span>        <span class="mi">3</span> <span class="n">days</span> <span class="n">ago</span>          <span class="mf">816.6</span> <span class="n">MB</span>
<span class="n">python</span>                  <span class="mf">3.5</span><span class="o">.</span><span class="mi">2</span>               <span class="n">a08871375fac</span>        <span class="mi">3</span> <span class="n">days</span> <span class="n">ago</span>          <span class="mf">684.2</span> <span class="n">MB</span>
<span class="n">continuumio</span><span class="o">/</span><span class="n">anaconda3</span>   <span class="n">latest</span>              <span class="mi">4480582</span><span class="n">d0805</span>        <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="mf">1.878</span> <span class="n">GB</span>
<span class="n">continuumio</span><span class="o">/</span><span class="n">miniconda</span>   <span class="n">latest</span>              <span class="mi">68829</span><span class="n">a8b7882</span>        <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="mf">433.8</span> <span class="n">MB</span>
<span class="n">golang</span>                  <span class="n">latest</span>              <span class="n">f24c8478ed40</span>        <span class="mi">2</span> <span class="n">weeks</span> <span class="n">ago</span>         <span class="mf">744.1</span> <span class="n">MB</span>
<span class="n">alpine</span>                  <span class="n">latest</span>              <span class="mi">4</span><span class="n">e38e38c8ce0</span>        <span class="mi">7</span> <span class="n">weeks</span> <span class="n">ago</span>         <span class="mf">4.795</span> <span class="n">MB</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">tag</span> <span class="n">a653e265abb0</span>  <span class="n">fzinfz</span><span class="o">/</span><span class="n">jupyter</span><span class="p">:</span><span class="n">latest</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">rmi</span> <span class="o">-</span><span class="n">f</span> <span class="n">fzinfz</span><span class="o">/</span><span class="n">jupyter</span><span class="p">:</span><span class="mf">0.1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Untagged</span><span class="p">:</span> <span class="n">fzinfz</span><span class="o">/</span><span class="n">jupyter</span><span class="p">:</span><span class="mf">0.1</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span>docker run -it --entrypoint=/bin/bash $IMAGE -i
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">commit</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;EXPOSE 8888&quot;</span> <span class="mi">37</span><span class="n">cdc2e7328b</span>    <span class="n">fzinfz</span><span class="o">/</span><span class="n">jupyter</span><span class="p">:</span><span class="mf">0.2</span><span class="o">-</span><span class="n">addBash</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">history</span>  <span class="n">continuumio</span><span class="o">/</span><span class="n">anaconda3</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">IMAGE</span>               <span class="n">CREATED</span>             <span class="n">CREATED</span> <span class="n">BY</span>                                      <span class="n">SIZE</span>                <span class="n">COMMENT</span>
<span class="mi">4480582</span><span class="n">d0805</span>        <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="c1">#(nop) CMD [&quot;/bin/bash&quot;]             0 B</span>
<span class="o">&lt;</span><span class="n">missing</span><span class="o">&gt;</span>           <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="c1">#(nop) ENTRYPOINT [&quot;/usr/bin/tini&quot;   0 B</span>
<span class="o">&lt;</span><span class="n">missing</span><span class="o">&gt;</span>           <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="c1">#(nop) ENV PATH=/opt/conda/bin:/us   0 B</span>
<span class="o">&lt;</span><span class="n">missing</span><span class="o">&gt;</span>           <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">curl</span> <span class="n">grep</span> <span class="n">sed</span> <span class="n">d</span>   <span class="mf">2.295</span> <span class="n">MB</span>
<span class="o">&lt;</span><span class="n">missing</span><span class="o">&gt;</span>           <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="n">echo</span> <span class="s1">&#39;export PATH=/opt/conda/bin:$   1.556 GB</span>
<span class="o">&lt;</span><span class="n">missing</span><span class="o">&gt;</span>           <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span> <span class="o">--</span><span class="n">fix</span><span class="o">-</span><span class="n">missing</span> <span class="o">&amp;&amp;</span> <span class="n">ap</span>   <span class="mi">195</span> <span class="n">MB</span>
<span class="o">&lt;</span><span class="n">missing</span><span class="o">&gt;</span>           <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="c1">#(nop) ENV LANG=C.UTF-8 LC_ALL=C.U   0 B</span>
<span class="o">&lt;</span><span class="n">missing</span><span class="o">&gt;</span>           <span class="mi">11</span> <span class="n">days</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="c1">#(nop) MAINTAINER Kamil Kwiek &lt;kam   0 B</span>
<span class="o">&lt;</span><span class="n">missing</span><span class="o">&gt;</span>           <span class="mi">2</span> <span class="n">weeks</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="c1">#(nop) CMD [&quot;/bin/bash&quot;]             0 B</span>
<span class="o">&lt;</span><span class="n">missing</span><span class="o">&gt;</span>           <span class="mi">2</span> <span class="n">weeks</span> <span class="n">ago</span>         <span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="c1">#(nop) ADD file:0e0565652aa852f620   125.1 MB</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">tag</span> <span class="n">local</span><span class="o">-</span><span class="n">image</span><span class="p">:</span><span class="n">tagname</span> <span class="n">fzinfz</span><span class="o">/</span><span class="n">ferro</span><span class="p">:</span><span class="n">tagname</span>
<span class="n">docker</span> <span class="n">push</span> <span class="n">fzinfz</span><span class="o">/</span><span class="n">ferro</span><span class="p">:</span><span class="n">tagname</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span>stop all containers:
docker kill $(docker ps -q)

remove all containers
docker rm $(docker ps -a -q)

remove all docker images
docker rmi $(docker images -q)
</pre></div>
</div>
<div class="section" id="install">
<h1>Install<a class="headerlink" href="#install" title="Permalink to this headline">¶</a></h1>
<div class="section" id="linux">
<h2>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><a class="reference external" href="https://docs.docker.com/engine/getstarted/linux_install_help/">https://docs.docker.com/engine/getstarted/linux_install_help/</a></div>
<div class="line">kernel must be 3.10 at minimum, which CentOS 7 runs.</div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ curl -fsSL https://get.docker.com/ | sh
</pre></div>
</div>
<div class="section" id="centos">
<h3>CentOS<a class="headerlink" href="#centos" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://docs.docker.com/engine/installation/linux/centos/">https://docs.docker.com/engine/installation/linux/centos/</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ sudo tee /etc/yum.repos.d/docker.repo &lt;&lt;-&#39;EOF&#39;
[dockerrepo]
name=Docker Repository
baseurl=https://yum.dockerproject.org/repo/main/centos/7/
enabled=1
gpgcheck=1
gpgkey=https://yum.dockerproject.org/gpg
EOF

sudo yum install docker-engine

sudo service docker start
sudo chkconfig docker on
</pre></div>
</div>
</div>
</div>
<div class="section" id="linux-based-on-windows-mac">
<h2>Linux based On Windows/Mac<a class="headerlink" href="#linux-based-on-windows-mac" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><a class="reference external" href="https://docs.docker.com/engine/installation/windows/">https://docs.docker.com/engine/installation/windows/</a></div>
<div class="line"><a class="reference external" href="https://docs.docker.com/machine/drivers/">https://docs.docker.com/machine/drivers/</a></div>
<div class="line">Bugs:</div>
<div class="line"><a class="reference external" href="https://forums.docker.com/t/how-can-i-ssh-into-the-betas-mobylinuxvm/10991/">https://forums.docker.com/t/how-can-i-ssh-into-the-betas-mobylinuxvm/10991/</a></div>
</div>
<div class="section" id="windows-container">
<h3>Windows Container<a class="headerlink" href="#windows-container" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://msdn.microsoft.com/en-us/virtualization/windowscontainers/quick_start/quick_start_windows_server">https://msdn.microsoft.com/en-us/virtualization/windowscontainers/quick_start/quick_start_windows_server</a></p>
<p><a class="reference external" href="https://blogs.msdn.microsoft.com/jcorioland/2016/04/28/getting-started-with-containers-and-docker-on-windows-server-2016-technical-preview-5/">https://blogs.msdn.microsoft.com/jcorioland/2016/04/28/getting-started-with-containers-and-docker-on-windows-server-2016-technical-preview-5/</a></p>
<div class="highlight-default"><div class="highlight"><pre><span></span>Install-WindowsFeature containers
Restart-Computer -Force

New-Item -Type Directory -Path &#39;C:\Program Files\docker\&#39;
Invoke-WebRequest https://aka.ms/tp5/b/dockerd -OutFile $env:ProgramFiles\docker\dockerd.exe -UseBasicParsing
Invoke-WebRequest https://aka.ms/tp5/b/docker -OutFile $env:ProgramFiles\docker\docker.exe -UseBasicParsing

[Environment]::SetEnvironmentVariable(&quot;Path&quot;, $env:Path + &quot;;C:\Program Files\Docker&quot;, [EnvironmentVariableTarget]::Machine)

dockerd --register-service
Start-Service docker

Install-PackageProvider ContainerImage -Force
Install-ContainerImage -Name WindowsServerCore
Restart-Service docker
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="registry">
<h1>Registry<a class="headerlink" href="#registry" title="Permalink to this headline">¶</a></h1>
<div class="section" id="china-mirrors">
<h2>China Mirrors<a class="headerlink" href="#china-mirrors" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line"><a class="reference external" href="https://hpc.aliyun.com/doc/docker%E9%95%9C%E5%83%8F%E6%9C%8D%E5%8A%A1">https://hpc.aliyun.com/doc/docker%E9%95%9C%E5%83%8F%E6%9C%8D%E5%8A%A1</a></div>
<div class="line"><a class="reference external" href="https://servers.ustclug.org/2015/05/new-docker-hub-registry-mirror/">https://servers.ustclug.org/2015/05/new-docker-hub-registry-mirror/</a></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">login</span> <span class="o">-</span><span class="n">u</span> <span class="n">anonymouse</span> <span class="o">-</span><span class="n">p</span> <span class="n">anonymouse</span> <span class="n">docker</span><span class="o">.</span><span class="n">mirrors</span><span class="o">.</span><span class="n">ustc</span><span class="o">.</span><span class="n">edu</span><span class="o">.</span><span class="n">cn</span>
</pre></div>
</div>
<div class="section" id="systemd">
<h3>Systemd<a class="headerlink" href="#systemd" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://servers.ustclug.org/2015/05/new-docker-hub-registry-mirror/">https://servers.ustclug.org/2015/05/new-docker-hub-registry-mirror/</a></p>
</div>
<div class="section" id="boot2docker">
<h3>boot2docker<a class="headerlink" href="#boot2docker" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="n">EXTRA_ARGS</span><span class="o">=</span><span class="s2">&quot;--registry-mirror=https://docker.mirrors.ustc.edu.cn&quot;</span>  <span class="o">&gt;&gt;</span>  <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">boot2docker</span><span class="o">/</span><span class="n">profile</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="deploying-a-registry-server">
<h2>Deploying a registry server<a class="headerlink" href="#deploying-a-registry-server" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/docker/distribution/blob/master/docs/deploying.md">https://github.com/docker/distribution/blob/master/docs/deploying.md</a></p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">run</span> <span class="o">-</span><span class="n">d</span> <span class="o">-</span><span class="n">p</span> <span class="mi">5000</span><span class="p">:</span><span class="mi">5000</span> <span class="o">--</span><span class="n">restart</span><span class="o">=</span><span class="n">always</span> <span class="o">--</span><span class="n">name</span> <span class="n">registry</span> <span class="n">registry</span><span class="p">:</span><span class="mi">2</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">docker</span> <span class="n">info</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">Registry</span>
</pre></div>
</div>
<pre class="literal-block">
 WARNING: Usage of loopback devices is strongly discouraged for production use. Either use <cite>--storage-opt dm.thinpooldev</cite> or use <cite>--storage-opt dm.no_warn_on_loop_devices=true</cite> to suppress this warning.
WARNING: bridge-nf-call-iptables is disabled
WARNING: bridge-nf-call-ip6tables is disabled
[01;31m[KRegistry[m[K: <a class="reference external" href="https://index.docker.io/v1/">https://index.docker.io/v1/</a>
</pre>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Install</a><ul>
<li><a class="reference internal" href="#linux">Linux</a><ul>
<li><a class="reference internal" href="#centos">CentOS</a></li>
</ul>
</li>
<li><a class="reference internal" href="#linux-based-on-windows-mac">Linux based On Windows/Mac</a><ul>
<li><a class="reference internal" href="#windows-container">Windows Container</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#registry">Registry</a><ul>
<li><a class="reference internal" href="#china-mirrors">China Mirrors</a><ul>
<li><a class="reference internal" href="#systemd">Systemd</a></li>
<li><a class="reference internal" href="#boot2docker">boot2docker</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deploying-a-registry-server">Deploying a registry server</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/docker.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Ferro.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/docker.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>