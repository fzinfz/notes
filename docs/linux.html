<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>System &mdash; Ferro&#39;s DevOps Notes 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Ferro&#39;s DevOps Notes 0.1 documentation" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="system">
<h1>System<a class="headerlink" href="#system" title="Permalink to this headline">Â¶</a></h1>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">free</span> <span class="o">-</span><span class="n">m</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>             <span class="n">total</span>       <span class="n">used</span>       <span class="n">free</span>     <span class="n">shared</span>    <span class="n">buffers</span>     <span class="n">cached</span>
<span class="n">Mem</span><span class="p">:</span>           <span class="mi">748</span>        <span class="mi">519</span>        <span class="mi">228</span>          <span class="mi">0</span>          <span class="mi">6</span>        <span class="mi">119</span>
<span class="o">-/+</span> <span class="n">buffers</span><span class="o">/</span><span class="n">cache</span><span class="p">:</span>        <span class="mi">393</span>        <span class="mi">355</span>
<span class="n">Swap</span><span class="p">:</span>            <span class="mi">0</span>          <span class="mi">0</span>          <span class="mi">0</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">service</span> <span class="n">nginx</span> <span class="n">status</span>
<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">init</span><span class="o">.</span><span class="n">d</span><span class="o">/</span><span class="n">nginx</span> <span class="n">status</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>[....] nginx is running[?25l7[1G[[32m ok [39;49m8[?12l[?25h.
[....] nginx is running[?25l7[1G[[32m ok [39;49m8[?12l[?25h.
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;CentOS&#39;</span>
<span class="n">chkconfig</span> <span class="n">nginx</span> <span class="n">on</span>
<span class="n">chkconfig</span> <span class="n">nginx</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span>export count=2
ps aux --sort=-pcpu | head -n $count
ps aux --sort=-rss | head -n  $count
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
mongodb   6934  0.3  1.4 107824 11084 ?        Sl   Aug09  46:43 /usr/bin/mongod --unixSocketPrefix=/var/run/mongodb --config /etc/mongodb.conf run
USER       PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND
root     23154  0.0  6.9 224388 53196 ?        Sl   Aug10  10:15 /root/anaconda3/envs/py35/bin/python /root/anaconda3/envs/py35/bin/jupyter-notebook --certfile=.ssh/la1.tracert.win/cert1.pem --keyfile .ssh/la1.tracert.win/privkey1.pem --notebook-dir=/root/
</pre></div>
</div>
</div>
<div class="section" id="networking">
<h1>Networking<a class="headerlink" href="#networking" title="Permalink to this headline">Â¶</a></h1>
<div class="section" id="firewall">
<h2>Firewall<a class="headerlink" href="#firewall" title="Permalink to this headline">Â¶</a></h2>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">iptables</span> <span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">8889</span><span class="p">:</span><span class="mi">8899</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="n">iptables</span><span class="o">-</span><span class="n">save</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Generated by iptables-save v1.4.14 on Fri Aug 19 19:14:24 2016</span>
<span class="o">*</span><span class="nb">filter</span>
<span class="p">:</span><span class="n">INPUT</span> <span class="n">ACCEPT</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span>
<span class="p">:</span><span class="n">FORWARD</span> <span class="n">ACCEPT</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span>
<span class="p">:</span><span class="n">OUTPUT</span> <span class="n">ACCEPT</span> <span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="p">]</span>
<span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">-</span><span class="n">m</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">4433</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">-</span><span class="n">m</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">4433</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">-</span><span class="n">m</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">81</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">-</span><span class="n">m</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">8443</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">-</span><span class="n">m</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">8080</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="o">-</span><span class="n">A</span> <span class="n">INPUT</span> <span class="o">-</span><span class="n">p</span> <span class="n">tcp</span> <span class="o">-</span><span class="n">m</span> <span class="n">tcp</span> <span class="o">--</span><span class="n">dport</span> <span class="mi">8899</span> <span class="o">-</span><span class="n">j</span> <span class="n">ACCEPT</span>
<span class="n">COMMIT</span>
<span class="c1"># Completed on Fri Aug 19 19:14:24 2016</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">iptables</span> <span class="o">-</span><span class="n">L</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Chain</span> <span class="n">INPUT</span> <span class="p">(</span><span class="n">policy</span> <span class="n">ACCEPT</span><span class="p">)</span>
<span class="n">target</span>     <span class="n">prot</span> <span class="n">opt</span> <span class="n">source</span>               <span class="n">destination</span>
<span class="n">ACCEPT</span>     <span class="n">tcp</span>  <span class="o">--</span>  <span class="n">anywhere</span>             <span class="n">anywhere</span>             <span class="n">tcp</span> <span class="n">dpt</span><span class="p">:</span><span class="mi">4433</span>
<span class="n">ACCEPT</span>     <span class="n">tcp</span>  <span class="o">--</span>  <span class="n">anywhere</span>             <span class="n">anywhere</span>             <span class="n">tcp</span> <span class="n">dpt</span><span class="p">:</span><span class="mi">4433</span>
<span class="n">ACCEPT</span>     <span class="n">tcp</span>  <span class="o">--</span>  <span class="n">anywhere</span>             <span class="n">anywhere</span>             <span class="n">tcp</span> <span class="n">dpt</span><span class="p">:</span><span class="mi">81</span>
<span class="n">ACCEPT</span>     <span class="n">tcp</span>  <span class="o">--</span>  <span class="n">anywhere</span>             <span class="n">anywhere</span>             <span class="n">tcp</span> <span class="n">dpt</span><span class="p">:</span><span class="mi">8443</span>
<span class="n">ACCEPT</span>     <span class="n">tcp</span>  <span class="o">--</span>  <span class="n">anywhere</span>             <span class="n">anywhere</span>             <span class="n">tcp</span> <span class="n">dpt</span><span class="p">:</span><span class="n">http</span><span class="o">-</span><span class="n">alt</span>
<span class="n">ACCEPT</span>     <span class="n">tcp</span>  <span class="o">--</span>  <span class="n">anywhere</span>             <span class="n">anywhere</span>             <span class="n">tcp</span> <span class="n">dpt</span><span class="p">:</span><span class="mi">8899</span>

<span class="n">Chain</span> <span class="n">FORWARD</span> <span class="p">(</span><span class="n">policy</span> <span class="n">ACCEPT</span><span class="p">)</span>
<span class="n">target</span>     <span class="n">prot</span> <span class="n">opt</span> <span class="n">source</span>               <span class="n">destination</span>

<span class="n">Chain</span> <span class="n">OUTPUT</span> <span class="p">(</span><span class="n">policy</span> <span class="n">ACCEPT</span><span class="p">)</span>
<span class="n">target</span>     <span class="n">prot</span> <span class="n">opt</span> <span class="n">source</span>               <span class="n">destination</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">services</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">http</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Updated from http://www.iana.org/assignments/port-numbers and other</span>
<span class="c1"># sources like http://www.freebsd.org/cgi/cvsweb.cgi/src/etc/services .</span>
<span class="n">http</span>                <span class="mi">80</span><span class="o">/</span><span class="n">tcp</span>          <span class="n">www</span>             <span class="c1"># WorldWideWeb HTTP</span>
<span class="n">http</span>                <span class="mi">80</span><span class="o">/</span><span class="n">udp</span>                          <span class="c1"># HyperText Transfer Protocol</span>
<span class="n">https</span>               <span class="mi">443</span><span class="o">/</span><span class="n">tcp</span>                         <span class="c1"># http protocol over TLS/SSL</span>
<span class="n">https</span>               <span class="mi">443</span><span class="o">/</span><span class="n">udp</span>
<span class="n">http</span><span class="o">-</span><span class="n">alt</span>    <span class="mi">8080</span><span class="o">/</span><span class="n">tcp</span>        <span class="n">webcache</span>        <span class="c1"># WWW caching service</span>
<span class="n">http</span><span class="o">-</span><span class="n">alt</span>    <span class="mi">8080</span><span class="o">/</span><span class="n">udp</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;CentOS 7&#39;</span>
<span class="n">firewall</span><span class="o">-</span><span class="n">cmd</span> <span class="o">--</span><span class="n">zone</span><span class="o">=</span><span class="n">public</span> <span class="o">--</span><span class="n">add</span><span class="o">-</span><span class="n">port</span><span class="o">=</span><span class="mi">199</span><span class="o">/</span><span class="n">tcp</span> <span class="o">--</span><span class="n">permanent</span>
<span class="n">firewall</span><span class="o">-</span><span class="n">cmd</span> <span class="o">--</span><span class="n">reload</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">firewall</span><span class="o">-</span><span class="n">cmd</span> <span class="o">--</span><span class="nb">list</span><span class="o">-</span><span class="nb">all</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">bash</span><span class="p">:</span> <span class="n">firewall</span><span class="o">-</span><span class="n">cmd</span><span class="p">:</span> <span class="n">command</span> <span class="ow">not</span> <span class="n">found</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;Ubuntu 16&#39;</span>
<span class="n">ufw</span> <span class="n">allow</span> <span class="mi">11200</span><span class="p">:</span><span class="mi">11299</span><span class="o">/</span><span class="n">tcp</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">netstat</span> <span class="o">-</span><span class="n">lntp</span> <span class="o">|</span> <span class="n">grep</span> <span class="mi">22</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">tcp</span>        <span class="mi">0</span>      <span class="mi">0</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">:</span><span class="mi">4433</span>            <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">:</span><span class="o">*</span>               <span class="n">LISTEN</span>      <span class="mi">22748</span><span class="o">/</span><span class="n">ss</span><span class="o">-</span><span class="n">server</span>
<span class="n">tcp</span>        <span class="mi">0</span>      <span class="mi">0</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">:</span><span class="mi">22</span>              <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span><span class="p">:</span><span class="o">*</span>               <span class="n">LISTEN</span>      <span class="mi">2087</span><span class="o">/</span><span class="n">sshd</span>
<span class="n">tcp6</span>       <span class="mi">0</span>      <span class="mi">0</span> <span class="p">:::</span><span class="mi">22</span>                   <span class="p">:::</span><span class="o">*</span>                    <span class="n">LISTEN</span>      <span class="mi">2087</span><span class="o">/</span><span class="n">sshd</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ip</span> <span class="n">addr</span> <span class="n">show</span> <span class="n">dev</span> <span class="n">eth0</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">2</span><span class="p">:</span> <span class="n">eth0</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">BROADCAST</span><span class="p">,</span><span class="n">MULTICAST</span><span class="p">,</span><span class="n">UP</span><span class="p">,</span><span class="n">LOWER_UP</span><span class="o">&gt;</span> <span class="n">mtu</span> <span class="mi">1500</span> <span class="n">qdisc</span> <span class="n">pfifo_fast</span> <span class="n">state</span> <span class="n">UP</span> <span class="n">qlen</span> <span class="mi">1000</span>
    <span class="n">link</span><span class="o">/</span><span class="n">ether</span> <span class="mi">56</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">2</span><span class="n">d</span><span class="p">:</span><span class="n">da</span><span class="p">:</span><span class="n">d9</span> <span class="n">brd</span> <span class="n">ff</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">ff</span>
    <span class="n">inet</span> <span class="mf">108.61</span><span class="o">.</span><span class="mf">217.233</span><span class="o">/</span><span class="mi">24</span> <span class="n">brd</span> <span class="mf">255.255</span><span class="o">.</span><span class="mf">255.0</span> <span class="n">scope</span> <span class="k">global</span> <span class="n">eth0</span>
    <span class="n">inet6</span> <span class="n">fe80</span><span class="p">::</span><span class="mi">5400</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">fe2d</span><span class="p">:</span><span class="n">dad9</span><span class="o">/</span><span class="mi">64</span> <span class="n">scope</span> <span class="n">link</span>
       <span class="n">valid_lft</span> <span class="n">forever</span> <span class="n">preferred_lft</span> <span class="n">forever</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ip</span> <span class="n">addr</span> <span class="n">flush</span> <span class="n">dev</span> <span class="n">eth0</span>
<span class="n">ifconfig</span> <span class="n">eth0</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span> <span class="mf">0.0</span><span class="o">.</span><span class="mf">0.0</span>

<span class="n">ifconfig</span> <span class="n">eth0</span> <span class="mf">10.4</span><span class="o">.</span><span class="mf">0.3</span><span class="o">/</span><span class="mi">16</span> <span class="n">up</span>
<span class="n">dhclient</span> <span class="o">-</span><span class="n">r</span> <span class="n">eth0</span>
<span class="n">dhclient</span> <span class="n">eth0</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">dhclient</span> <span class="o">--</span><span class="n">help</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Internet</span> <span class="n">Systems</span> <span class="n">Consortium</span> <span class="n">DHCP</span> <span class="n">Client</span> <span class="mf">4.2</span><span class="o">.</span><span class="mi">2</span>
<span class="n">Copyright</span> <span class="mi">2004</span><span class="o">-</span><span class="mi">2011</span> <span class="n">Internet</span> <span class="n">Systems</span> <span class="n">Consortium</span><span class="o">.</span>
<span class="n">All</span> <span class="n">rights</span> <span class="n">reserved</span><span class="o">.</span>
<span class="n">For</span> <span class="n">info</span><span class="p">,</span> <span class="n">please</span> <span class="n">visit</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">isc</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">dhcp</span><span class="o">/</span>
<span class="n">Usage</span><span class="p">:</span> <span class="n">dhclient</span> <span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="o">|-</span><span class="mi">6</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">SNTP1dvrx</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">nw</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">p</span> <span class="o">&lt;</span><span class="n">port</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">D</span> <span class="n">LL</span><span class="o">|</span><span class="n">LLT</span><span class="p">]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">s</span> <span class="n">server</span><span class="o">-</span><span class="n">addr</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">cf</span> <span class="n">config</span><span class="o">-</span><span class="n">file</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">lf</span> <span class="n">lease</span><span class="o">-</span><span class="n">file</span><span class="p">]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">pf</span> <span class="n">pid</span><span class="o">-</span><span class="n">file</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">pid</span><span class="p">]</span> <span class="p">[</span><span class="o">-</span><span class="n">e</span> <span class="n">VAR</span><span class="o">=</span><span class="n">val</span><span class="p">]</span>
                <span class="p">[</span><span class="o">-</span><span class="n">sf</span> <span class="n">script</span><span class="o">-</span><span class="n">file</span><span class="p">]</span> <span class="p">[</span><span class="n">interface</span><span class="p">]</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ip</span> <span class="n">route</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">default</span> <span class="n">via</span> <span class="mf">108.61</span><span class="o">.</span><span class="mf">217.1</span> <span class="n">dev</span> <span class="n">eth0</span>
<span class="mf">10.99</span><span class="o">.</span><span class="mf">0.0</span><span class="o">/</span><span class="mi">16</span> <span class="n">dev</span> <span class="n">eth1</span>  <span class="n">proto</span> <span class="n">kernel</span>  <span class="n">scope</span> <span class="n">link</span>  <span class="n">src</span> <span class="mf">10.99</span><span class="o">.</span><span class="mf">0.10</span>
<span class="mf">108.61</span><span class="o">.</span><span class="mf">217.0</span><span class="o">/</span><span class="mi">24</span> <span class="n">dev</span> <span class="n">eth0</span>  <span class="n">proto</span> <span class="n">kernel</span>  <span class="n">scope</span> <span class="n">link</span>  <span class="n">src</span> <span class="mf">108.61</span><span class="o">.</span><span class="mf">217.233</span>
<span class="mf">169.254</span><span class="o">.</span><span class="mf">169.254</span> <span class="n">via</span> <span class="mf">108.61</span><span class="o">.</span><span class="mf">217.1</span> <span class="n">dev</span> <span class="n">eth0</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">ip</span> <span class="n">addr</span> <span class="n">show</span> <span class="n">dev</span> <span class="n">eth1</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">3</span><span class="p">:</span> <span class="n">eth1</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">BROADCAST</span><span class="p">,</span><span class="n">MULTICAST</span><span class="p">,</span><span class="n">UP</span><span class="p">,</span><span class="n">LOWER_UP</span><span class="o">&gt;</span> <span class="n">mtu</span> <span class="mi">1500</span> <span class="n">qdisc</span> <span class="n">pfifo_fast</span> <span class="n">state</span> <span class="n">UP</span> <span class="n">qlen</span> <span class="mi">1000</span>
    <span class="n">link</span><span class="o">/</span><span class="n">ether</span> <span class="mi">5</span><span class="n">a</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">2</span><span class="n">d</span><span class="p">:</span><span class="n">da</span><span class="p">:</span><span class="n">d9</span> <span class="n">brd</span> <span class="n">ff</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">ff</span>
    <span class="n">inet</span> <span class="mf">10.99</span><span class="o">.</span><span class="mf">0.10</span><span class="o">/</span><span class="mi">16</span> <span class="n">scope</span> <span class="k">global</span> <span class="n">eth1</span>
    <span class="n">inet6</span> <span class="n">fe80</span><span class="p">::</span><span class="mi">5800</span><span class="p">:</span><span class="n">ff</span><span class="p">:</span><span class="n">fe2d</span><span class="p">:</span><span class="n">dad9</span><span class="o">/</span><span class="mi">64</span> <span class="n">scope</span> <span class="n">link</span>
       <span class="n">valid_lft</span> <span class="n">forever</span> <span class="n">preferred_lft</span> <span class="n">forever</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">mount</span><span class="o">.</span><span class="n">nfs</span> <span class="n">nfs_server</span><span class="p">:</span><span class="o">/</span><span class="nb">dir</span> <span class="o">/</span><span class="nb">dir</span>
<span class="n">mount</span> <span class="o">-</span><span class="n">tnfs4</span> <span class="o">-</span><span class="n">ominorversion</span><span class="o">=</span><span class="mi">1</span> <span class="n">server_nfs_4</span><span class="o">.</span><span class="mi">1</span><span class="p">:</span><span class="o">/</span><span class="nb">dir</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="text-file-operations">
<h1>Text file Operations<a class="headerlink" href="#text-file-operations" title="Permalink to this headline">Â¶</a></h1>
<p><a class="reference external" href="http://unix.stackexchange.com/questions/112023/how-can-i-replace-a-string-in-a-files">http://unix.stackexchange.com/questions/112023/how-can-i-replace-a-string-in-a-files</a></p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">bash</span>
<span class="n">cd</span> <span class="o">~</span>
<span class="n">ls</span> <span class="o">-</span><span class="n">l</span>
<span class="n">date</span>
<span class="n">cat</span> <span class="n">py35</span><span class="o">.</span><span class="n">yml</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">total</span> <span class="mi">24</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span> <span class="mi">12</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="n">Aug</span> <span class="mi">10</span> <span class="mi">10</span><span class="p">:</span><span class="mi">02</span> <span class="n">anaconda3</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  <span class="mi">3</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">18</span><span class="p">:</span><span class="mi">23</span> <span class="n">btsync</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">13</span><span class="p">:</span><span class="mi">45</span> <span class="n">certbot</span>
<span class="n">drwx</span><span class="o">------</span>  <span class="mi">7</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="n">Aug</span>  <span class="mi">9</span> <span class="mi">17</span><span class="p">:</span><span class="mi">34</span> <span class="n">Dropbox</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>  <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>    <span class="mi">0</span> <span class="n">Aug</span> <span class="mi">10</span> <span class="mi">10</span><span class="p">:</span><span class="mi">06</span> <span class="n">py35</span><span class="o">.</span><span class="n">yml</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  <span class="mi">3</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="n">Jul</span> <span class="mi">22</span> <span class="mi">04</span><span class="p">:</span><span class="mi">47</span> <span class="n">serverspeeder</span>
<span class="n">drwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span>  <span class="mi">2</span> <span class="n">root</span> <span class="n">root</span> <span class="mi">4096</span> <span class="n">Jul</span> <span class="mi">22</span> <span class="mi">05</span><span class="p">:</span><span class="mi">19</span> <span class="n">ss</span><span class="o">-</span><span class="n">libev</span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">--</span><span class="n">r</span><span class="o">--</span>  <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>    <span class="mi">0</span> <span class="n">Aug</span> <span class="mi">10</span> <span class="mi">06</span><span class="p">:</span><span class="mi">24</span> <span class="n">testfile</span>
<span class="n">lrwxrwxrwx</span>  <span class="mi">1</span> <span class="n">root</span> <span class="n">root</span>   <span class="mi">21</span> <span class="n">Jul</span> <span class="mi">22</span> <span class="mi">06</span><span class="p">:</span><span class="mi">25</span> <span class="n">www</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">www</span><span class="o">/</span>
<span class="n">Wed</span> <span class="n">Aug</span> <span class="mi">10</span> <span class="mi">10</span><span class="p">:</span><span class="mi">08</span><span class="p">:</span><span class="mi">18</span> <span class="n">UTC</span> <span class="mi">2016</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span>h = !cat .bash_history
&#39;,&#39;.join([s.split(&#39;install &#39;)[1] for s in h if &#39;apt-get install&#39; in s])
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="s1">&#39;nginx,sudo,btsync,bc,shadowsocks-libev,aria2,unifi_sysvinit_all,unifi,-f unifi,-f unifi,-f&#39;</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">bash</span>
<span class="n">ps</span> <span class="o">--</span><span class="n">help</span> <span class="nb">all</span> <span class="o">|</span> <span class="n">grep</span> <span class="n">rss</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">y</span>                   <span class="n">do</span> <span class="ow">not</span> <span class="n">show</span> <span class="n">flags</span><span class="p">,</span> <span class="n">show</span> <span class="n">rss</span> <span class="p">(</span><span class="n">only</span> <span class="k">with</span> <span class="o">-</span><span class="n">l</span><span class="p">)</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">-</span><span class="n">p</span> <span class="o">/</span><span class="ow">not</span><span class="o">/</span><span class="n">existing</span><span class="o">/</span><span class="n">folder</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~</span>
<span class="n">cat</span> <span class="n">py35</span><span class="o">.</span><span class="n">yml</span> <span class="o">|</span> <span class="n">head</span> <span class="o">-</span><span class="n">n</span> <span class="mi">4</span>

<span class="n">sed</span> <span class="o">-</span><span class="n">i</span> <span class="s1">&#39;s/(?&lt;=name: )root/py352/&#39;</span> <span class="n">py35</span><span class="o">.</span><span class="n">yml</span>
<span class="n">cat</span> <span class="n">py35</span><span class="o">.</span><span class="n">yml</span> <span class="o">|</span> <span class="n">head</span> <span class="o">-</span><span class="n">n</span> <span class="mi">4</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">name</span><span class="p">:</span> <span class="n">root</span>
<span class="n">dependencies</span><span class="p">:</span>
<span class="o">-</span> <span class="n">_nb_ext_conf</span><span class="o">=</span><span class="mf">0.2</span><span class="o">.</span><span class="mi">0</span><span class="o">=</span><span class="n">py35_0</span>
<span class="o">-</span> <span class="n">alabaster</span><span class="o">=</span><span class="mf">0.7</span><span class="o">.</span><span class="mi">8</span><span class="o">=</span><span class="n">py35_0</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">unix</span><span class="o">.</span><span class="n">stackexchange</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">questions</span><span class="o">/</span><span class="mi">112023</span><span class="o">/</span><span class="n">how</span><span class="o">-</span><span class="n">can</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">replace</span><span class="o">-</span><span class="n">a</span><span class="o">-</span><span class="n">string</span><span class="o">-</span><span class="ow">in</span><span class="o">-</span><span class="n">a</span><span class="o">-</span><span class="n">files</span>
</pre></div>
</div>
</div>
<div class="section" id="scripts">
<h1>Scripts<a class="headerlink" href="#scripts" title="Permalink to this headline">Â¶</a></h1>
<div class="code python highlight-default"><div class="highlight"><pre><span></span>string=&quot;1:2:3&quot;
set -f                      # avoid globbing (expansion of *).
array=(${string//:/ })
for i in &quot;${!array[@]}&quot;
do
    echo &quot;$i=&gt;${array[i]}&quot;
done
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mi">0</span><span class="o">=&gt;</span><span class="mi">1</span>
<span class="mi">1</span><span class="o">=&gt;</span><span class="mi">2</span>
<span class="mi">2</span><span class="o">=&gt;</span><span class="mi">3</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span>echo &#39;ps grep excluding grep pid&#39;
RESULT_ssh_agent =`ps -aux | sed -n /[s]sh-agent/p`

if [ &quot;${RESULT_ssh_agent:-null}&quot; = null ]; then
    chmod 600 /home/fzinfz/.ssh/id_rsa_vultr
    eval $(ssh-agent -s)
    ssh-add /home/fzinfz/.ssh/id_rsa_vultr
else
    echo &quot;ssh-agent running,skip adding&quot;
fi
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">git</span><span class="p">,</span><span class="n">aria2</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">E</span><span class="p">:</span> <span class="n">Unable</span> <span class="n">to</span> <span class="n">locate</span> <span class="n">package</span> <span class="n">git</span><span class="p">,</span><span class="n">aria2</span>
</pre></div>
</div>
</div>
<div class="section" id="sync">
<h1>Sync<a class="headerlink" href="#sync" title="Permalink to this headline">Â¶</a></h1>
<div class="section" id="rsync">
<h2>Rsync<a class="headerlink" href="#rsync" title="Permalink to this headline">Â¶</a></h2>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">rsync</span> <span class="o">-</span><span class="n">aP</span>  <span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">_bin</span> <span class="n">root</span><span class="nd">@remote</span><span class="p">:</span><span class="o">/</span><span class="n">root</span>
<span class="n">rsync</span> <span class="o">-</span><span class="n">aP</span> <span class="o">-</span><span class="n">e</span> <span class="s2">&quot;ssh -p 10220&quot;</span> <span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="n">_bin</span> <span class="n">root</span><span class="nd">@remote</span><span class="p">:</span><span class="o">/</span><span class="n">root</span>   <span class="o">--</span><span class="n">remove</span><span class="o">-</span><span class="n">source</span><span class="o">-</span><span class="n">files</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">rsync</span> <span class="o">--</span><span class="n">help</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">E</span> <span class="s1">&#39;[-][ezaPrlptgoDv]</span><span class="se">\b</span><span class="s1">|partial|progress&#39;</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span>[01;31m[K-v[m[K, --verbose               increase verbosity
[01;31m[K-a[m[K, --archive               archive mode; equals -rlptgoD (no -H,-A,-X)
    --no-OPTION             turn off an implied OPTION (e.g. --no[01;31m[K-D[m[K)
[01;31m[K-r[m[K, --recursive             recurse into directories
[01;31m[K-l[m[K, --links                 copy symlinks as symlinks
[01;31m[K-p[m[K, --perms                 preserve permissions
[01;31m[K-o[m[K, --owner                 preserve owner (super-user only)
[01;31m[K-g[m[K, --group                 preserve group
[01;31m[K-D[m[K                          same as --devices --specials
[01;31m[K-t[m[K, --times                 preserve modification times
[01;31m[K-e[m[K, --rsh=COMMAND           specify the remote shell to use
    --[01;31m[Kpartial[m[K               keep [01;31m[Kpartial[m[Kly transferred files
    --[01;31m[Kpartial[m[K-dir=DIR       put a [01;31m[Kpartial[m[Kly transferred file into DIR
[01;31m[K-z[m[K, --compress              compress file data during the transfer
    --[01;31m[Kprogress[m[K              show [01;31m[Kprogress[m[K during transfer
[01;31m[K-P[m[K                          same as --[01;31m[Kpartial[m[K --[01;31m[Kprogress[m[K
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">tar</span> <span class="o">-</span><span class="n">zcvf</span> <span class="n">archive</span><span class="o">-</span><span class="n">name</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span> <span class="n">directory</span><span class="o">-</span><span class="n">name</span>
<span class="n">tar</span> <span class="o">-</span><span class="n">zxvf</span> <span class="n">prog</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">jan</span><span class="o">-</span><span class="mf">2005.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
</pre></div>
</div>
</div>
<div class="section" id="dropbox">
<h2>Dropbox<a class="headerlink" href="#dropbox" title="Permalink to this headline">Â¶</a></h2>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~</span> <span class="o">&amp;&amp;</span> <span class="n">wget</span> <span class="o">-</span><span class="n">O</span> <span class="o">-</span> <span class="s2">&quot;https://www.dropbox.com/download?plat=lnx.x86_64&quot;</span> <span class="o">|</span> <span class="n">tar</span> <span class="n">xzf</span> <span class="o">-</span>
</pre></div>
</div>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="o">~/.</span><span class="n">dropbox</span><span class="o">-</span><span class="n">dist</span><span class="o">/</span><span class="n">dropboxd</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Killed</span>
</pre></div>
</div>
<p>deploying Let&#8217;s Encrypt certificates: <a class="reference external" href="https://certbot.eff.org/">https://certbot.eff.org/</a></p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="o">./</span><span class="n">certbot</span><span class="o">-</span><span class="n">auto</span> <span class="n">certonly</span> <span class="o">--</span><span class="n">webroot</span> <span class="o">-</span><span class="n">w</span>  <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">nginx</span><span class="o">/</span><span class="n">www</span><span class="o">/</span> <span class="o">-</span><span class="n">d</span> <span class="n">example</span><span class="o">.</span><span class="n">com</span>  <span class="o">-</span><span class="n">d</span> <span class="n">www</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span>
<span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">/</span><span class="n">live</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">letsencrypt</span><span class="o">/</span><span class="n">archive</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span>
<span class="n">cert</span><span class="o">.</span><span class="n">pem</span>  <span class="n">chain</span><span class="o">.</span><span class="n">pem</span>  <span class="n">fullchain</span><span class="o">.</span><span class="n">pem</span>  <span class="n">privkey</span><span class="o">.</span><span class="n">pem</span> <span class="o">-&gt;</span> <span class="n">cert1</span><span class="o">.</span><span class="n">pem</span>  <span class="n">chain1</span><span class="o">.</span><span class="n">pem</span>  <span class="n">fullchain1</span><span class="o">.</span><span class="n">pem</span>  <span class="n">privkey1</span><span class="o">.</span><span class="n">pem</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">System</a></li>
<li><a class="reference internal" href="#networking">Networking</a><ul>
<li><a class="reference internal" href="#firewall">Firewall</a></li>
</ul>
</li>
<li><a class="reference internal" href="#text-file-operations">Text file Operations</a></li>
<li><a class="reference internal" href="#scripts">Scripts</a></li>
<li><a class="reference internal" href="#sync">Sync</a><ul>
<li><a class="reference internal" href="#rsync">Rsync</a></li>
<li><a class="reference internal" href="#dropbox">Dropbox</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/linux.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Ferro.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.4.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="_sources/linux.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>